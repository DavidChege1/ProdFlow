{% extends 'base.html' %}

{% block title %} Admin Panel {% endblock %}

{% block body %}
<div class="container mt-5">
    <h2>Admin Dashboard</h2>
    <p>Welcome, {{ current_user.username }} ðŸ‘‘</p>

    <h4 class="mt-4">Users</h4>
    <table class="table table-bordered">
        <thead><tr><th>ID</th><th>Username</th><th>Role</th></tr></thead>
        <tbody>
            {% for user in users %}
            <tr>
                <td>{{ user.id }}</td>
                <td>{{ user.username }}</td>
                <td>{{ user.role }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <h4 class="mt-4">Products</h4>
    <ul>
        {% for product in products %}
            <li>{{ product.name }} - {{ product.specification }}</li>
        {% endfor %}
    </ul>

    <h4 class="mt-4">Orders</h4>
    <ul>
        {% for order in orders %}
            <li>Order #{{ order.id }} - {{ order.status }}</li>
        {% endfor %}
    </ul>
</div>
<h4 class="mt-4">Logs</h4>
<pre style="background:#f8f9fa; padding:10px; border:1px solid #ccc;">
{% with open('app.log') as log_file %}
    {{ log_file.read() }}
{% endwith %}
</pre>
<h3>Application Logs</h3>
<pre style="max-height: 300px; overflow-y: auto;">{{ log_content }}</pre>

{% endblock %}